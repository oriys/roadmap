import type { LessonGuide } from "../types"
import type { QuizQuestion } from "@/lib/types"

export const week2Guides: Record<string, LessonGuide> = {
  "cto-w2-1": {
    lessonId: "cto-w2-1",
    background: [
      "【战略解码】CTO 不能只看技术，必须深刻理解公司的商业模型、增长引擎和关键约束。将战略目标映射为技术需求是 CTO 的核心能力。",
      "【商业模型】了解公司靠什么赚钱（订阅、交易、广告等），增长引擎是什么（用户增长、客单价提升、留存优化），才能判断技术投资的优先级。",
      "【北极星指标】每个产品应有一个北极星指标（North Star Metric），它反映产品核心价值。CTO 需要理解技术如何驱动这个指标。",
      "【Strategy Mapping】哈佛商业评论提出的战略地图方法，将财务目标、客户价值、内部流程、学习成长四个维度关联起来，帮助 CTO 看清技术在全局中的位置。",
      "【约束识别】技术约束（性能瓶颈、技术债）、组织约束（团队能力、招聘速度）和业务约束（预算、合规）都会影响战略执行，CTO 需要主动识别并管理。"
    ],
    keyDifficulties: [
      "【技术语言转换】将业务目标翻译为技术语言是很多 CTO 的薄弱环节。例如'提升用户留存'可能意味着优化性能、改善推荐算法或提升可靠性。",
      "【优先级冲突】业务目标之间可能存在冲突（如增长速度 vs 系统稳定性），CTO 需要帮助团队做出明确的取舍决策。",
      "【长期 vs 短期】平衡短期业务需求和长期技术投资是永恒的挑战。需要建立框架来评估技术债的成本和偿还时机。",
      "【数据驱动】战略解码不能靠直觉，需要数据支撑。CTO 应建立数据看板来追踪技术指标与业务指标的关联。"
    ],
    handsOnPath: [
      "用一页纸描述公司的商业模型：收入来源、成本结构、增长引擎和核心客户价值。",
      "列出公司当前 Top 3 战略目标，并为每个目标映射出对应的技术需求和约束。",
      "与产品负责人对齐北极星指标，分析技术团队如何影响该指标。",
      "绘制一张简化的战略地图，展示技术投资如何支撑业务目标。",
      "识别当前的 Top 3 技术约束，并提出缓解方案和时间表。"
    ],
    selfCheck: [
      "你能否清晰描述公司的商业模型和增长引擎？",
      "你是否知道技术团队的工作如何影响公司的北极星指标？",
      "你是否能够用非技术语言向 CEO 解释技术投资的优先级和回报？",
      "你是否已经识别了当前最关键的技术约束并有应对计划？",
      "你的技术路线图是否与业务战略目标对齐？"
    ],
    extensions: [
      "阅读 HBR 的 Strategy Mapping 原文，学习四维度战略地图方法论。",
      "研究 Amplitude 的北极星指标框架，理解不同类型产品的核心指标选择。",
      "学习 Wardley Mapping，用价值链分析指导技术投资决策。",
      "参考 Technology Radar 方法论，建立公司内部的技术雷达。"
    ],
    sourceUrls: [
      "https://hbr.org/2000/09/having-trouble-with-your-strategy-then-map-it",
      "https://amplitude.com/blog/north-star-metric"
    ]
  },
  "cto-w2-2": {
    lessonId: "cto-w2-2",
    background: [
      "【技术愿景】技术愿景是 1-3 年维度的技术发展方向描述，包括平台化能力、可靠性目标、数据能力和 AI 赋能等关键支撑。",
      "【可沟通性】技术愿景不是写给工程师看的技术文档，而是需要让 CEO、投资人和业务团队都能理解的战略叙事。",
      "【平台化思维】Martin Fowler 提出'产品优于项目'的理念——将技术能力作为持续投资的产品来运营，而非一次性的项目交付。",
      "【愿景画布】技术愿景画布通常包含：当前状态评估、目标状态描述、关键路径、里程碑、风险和依赖、成功指标。",
      "【叙事结构】LeadDev 建议技术愿景采用'现状-挑战-愿景-路径'的叙事结构，让读者能够理解为什么要做、做什么、怎么做。"
    ],
    keyDifficulties: [
      "【过于抽象】技术愿景容易写得大而空。好的愿景应该具体到可执行的里程碑和可衡量的成功指标。",
      "【脱离业务】纯技术视角的愿景容易失去业务支持。每一个技术投资方向都应该关联到具体的业务价值。",
      "【缺乏共识】技术愿景不是 CTO 一个人的事，需要与技术团队、产品团队和业务团队共同讨论和迭代。",
      "【更新频率】技术愿景不是一成不变的，应该随着业务环境和技术趋势的变化定期更新，建议每季度回顾一次。"
    ],
    handsOnPath: [
      "对当前技术栈和架构做一次全面评估，列出优势、劣势、技术债和机会。",
      "用'现状-挑战-愿景-路径'结构撰写一份 1-3 年技术愿景文档。",
      "为愿景中的每个关键方向设定可衡量的里程碑和成功指标。",
      "与技术团队和产品团队分享愿景草案，收集反馈并迭代。",
      "将技术愿景拆解为季度目标，纳入 OKR 或路线图管理。"
    ],
    selfCheck: [
      "你的技术愿景是否能让非技术人员理解？",
      "愿景中的每个技术方向是否都有清晰的业务价值支撑？",
      "你是否设定了具体的里程碑和衡量标准？",
      "技术团队是否理解并认同这个愿景？",
      "你是否有定期回顾和更新愿景的机制？"
    ],
    extensions: [
      "阅读 Martin Fowler 的'Products Over Projects'，理解平台化思维。",
      "学习 LeadDev 的技术战略写作指南，提升愿景文档质量。",
      "研究 ThoughtWorks Technology Radar 的构建方式，建立公司技术雷达。",
      "探索 Architecture Fitness Functions，用自动化方式守护架构演进方向。"
    ],
    sourceUrls: [
      "https://martinfowler.com/articles/products-over-projects.html",
      "https://leaddev.com/technical-strategy/how-write-technical-strategy"
    ]
  }
}

export const week2Quizzes: Record<string, QuizQuestion[]> = {
  "cto-w2-1": [
    {
      id: "cto-w2-1-q1",
      question: "CTO 进行业务战略解码时，最先需要理解的是？",
      options: [
        "最新的技术趋势",
        "竞争对手的技术栈",
        "公司的商业模型、增长引擎和关键约束",
        "团队的编程语言偏好"
      ],
      answer: 2,
      rationale: "战略解码的基础是理解公司靠什么赚钱、如何增长以及面临哪些约束，才能正确映射技术需求。"
    },
    {
      id: "cto-w2-1-q2",
      question: "北极星指标（North Star Metric）的作用是？",
      options: [
        "衡量服务器性能",
        "反映产品核心价值，指导团队聚焦",
        "评估员工绩效",
        "计算技术债务"
      ],
      answer: 1,
      rationale: "北极星指标反映产品为用户提供的核心价值，帮助整个团队聚焦在最重要的目标上。"
    },
    {
      id: "cto-w2-1-q3",
      question: "战略地图方法论中包含的四个维度是？",
      options: [
        "前端、后端、数据库、运维",
        "财务目标、客户价值、内部流程、学习成长",
        "招聘、培训、考核、晋升",
        "设计、开发、测试、部署"
      ],
      answer: 1,
      rationale: "哈佛商业评论的战略地图将财务、客户、流程、学习四个维度关联，帮助看清技术在全局中的位置。"
    }
  ],
  "cto-w2-2": [
    {
      id: "cto-w2-2-q1",
      question: "技术愿景文档应该采用什么叙事结构？",
      options: [
        "只列出技术栈清单",
        "现状-挑战-愿景-路径",
        "按字母顺序排列技术",
        "只描述最终目标"
      ],
      answer: 1,
      rationale: "现状-挑战-愿景-路径的叙事结构让读者能理解为什么要做、做什么、怎么做，提升沟通效果。"
    },
    {
      id: "cto-w2-2-q2",
      question: "Martin Fowler 的'Products Over Projects'理念强调？",
      options: [
        "技术项目应尽快交付后解散团队",
        "将技术能力作为持续投资的产品来运营",
        "产品经理应负责所有技术决策",
        "不需要做技术规划"
      ],
      answer: 1,
      rationale: "平台化思维意味着将技术能力作为产品持续运营和投资，而非一次性项目交付后不再维护。"
    },
    {
      id: "cto-w2-2-q3",
      question: "技术愿景最容易犯的错误是？",
      options: [
        "太具体以至于缺乏灵活性",
        "过于抽象且脱离业务价值",
        "更新太频繁",
        "只与技术团队沟通"
      ],
      answer: 1,
      rationale: "技术愿景容易大而空、脱离业务。好的愿景应具体到可执行的里程碑，且每个方向都关联业务价值。"
    }
  ]
}
