import type { LessonGuide } from "../types"
import type { QuizQuestion } from "@/lib/types"

export const week1Guides: Record<string, LessonGuide> = {
  "cto-w1-1": {
    lessonId: "cto-w1-1",
    background: [
      "【角色区分】CTO 不等于工程 VP 或首席架构师。工程 VP 关注交付与团队管理，架构负责人关注技术方案，CTO 则需要在技术决策、组织能力与商业影响力之间架起桥梁。",
      "【阶段差异】早期创业阶段 CTO 聚焦产品落地与交付速度；成长期需要扩大团队、稳定交付；成熟期则转向治理成本与效率优化。",
      "【90 天目标】新任 CTO 应在前 90 天内与 CEO 对齐成功定义，确定 3-5 个可衡量的成功指标（如收入增长、系统可用性、交付周期等）。",
      "【价值定位】CTO 的核心价值在于用技术能力放大业务杠杆，而非单纯追求技术先进性。需要能够用业务语言解释技术投资的回报。",
      "【常见误区】许多新任 CTO 容易陷入'超级工程师'模式，继续深入编码而忽略战略思考和组织建设。角色转型的关键是从'做事'到'让事情发生'。"
    ],
    keyDifficulties: [
      "【身份转型】从技术专家到技术领导者的心态转变是最大挑战。需要接受自己不再是'最懂技术的人'，而是'让团队发挥最大价值的人'。",
      "【优先级判断】CTO 需要在技术债偿还、新功能开发、基础设施投资之间做出权衡。没有标准答案，取决于公司阶段和业务目标。",
      "【影响力建设】CTO 需要在董事会、CEO、工程团队等多个层面建立信任。不同听众需要不同的沟通方式和语言体系。",
      "【时间分配】如何在战略思考、团队管理、技术决策和对外沟通之间分配时间是持续的挑战。建议前 90 天花 60% 时间在了解业务和建立关系上。"
    ],
    handsOnPath: [
      "列出你所在公司当前阶段（早期/成长/成熟），明确 CTO 在该阶段的首要目标。",
      "与 CEO 或业务负责人进行一次深度对话，了解他们对技术团队的期望和痛点。",
      "撰写 90 天技术战略备忘录，包含 3-5 个可衡量目标、关键结果和风险项。",
      "绘制 CTO vs 工程 VP vs 架构师的职责对比表，明确自己的独特价值。",
      "回顾过去一个月的时间分配，标注哪些是战略性工作、哪些是执行性工作。"
    ],
    selfCheck: [
      "你能否用一句话描述 CTO 与工程 VP 的核心区别？",
      "你的 90 天目标是否已经与 CEO 对齐？成功标准是否可衡量？",
      "你目前的时间分配中，战略思考占多少比例？是否需要调整？",
      "你是否清楚公司当前阶段对 CTO 的首要期望是什么？",
      "你能否用业务语言向非技术人员解释技术投资的价值？"
    ],
    extensions: [
      "阅读《CTO Handbook》了解不同规模公司 CTO 的角色演变。",
      "研究 StaffEng 社区中从 Staff Engineer 到 CTO 的职业路径案例。",
      "参考 The First 90 Days 框架，制定个人的过渡计划。",
      "与其他 CTO 建立 Peer Group，定期交流角色挑战与应对策略。"
    ],
    sourceUrls: [
      "https://cto.so/handbook",
      "https://staffeng.com/guides/cto"
    ]
  },
  "cto-w1-2": {
    lessonId: "cto-w1-2",
    background: [
      "【信息闭环】CTO 需要设计从战略到执行的信息流：CEO/董事会的战略方向 → 技术愿景 → 团队执行 → 成果反馈。任何环节断裂都会导致方向偏差。",
      "【会议节奏】高效的管理节奏通常包含：周度经营例会（与 CEO 对齐）、双周技术例会（架构与方向）、月度团队 All-Hands、季度 OKR 复盘。",
      "【1:1 机制】与直接汇报者的 1:1 不只是状态同步，更是建立信任、发现问题和辅导成长的关键时刻。建议每周 30-60 分钟。",
      "【决策节奏】Andy Grove 在《High Output Management》中提出，管理者的产出 = 团队产出。管理者应关注杠杆率最高的活动。",
      "【横向沟通】CTO 与产品、运营、销售等横向部门的沟通同样重要。建立定期的跨部门同步机制，避免信息孤岛。"
    ],
    keyDifficulties: [
      "【会议过载】设计沟通节奏时容易陷入'会议过多'的陷阱。关键是每个会议都有明确的目的、议程和产出，砍掉低效会议。",
      "【信息过滤】CTO 需要在大量信息中快速识别关键信号。建立信息分级机制：哪些需要立即响应、哪些可以批量处理、哪些可以委托。",
      "【向上管理】很多技术领导者不擅长向上管理。需要学会主动汇报进展、提前预警风险、用数据支撑决策建议。",
      "【远程挑战】远程或混合办公模式下，信息流更容易断裂。需要更刻意地设计异步沟通机制和文档化决策。"
    ],
    handsOnPath: [
      "梳理当前所有定期会议，标注目的、频率、参与者和产出，砍掉或合并低效会议。",
      "设计一套完整的管理节奏表：周会、双周会、月会、季度回顾的时间和议程模板。",
      "与每位直接汇报者建立 1:1 节奏，准备标准化的 1:1 议程（进展、阻塞、成长、反馈）。",
      "建立信息分级标准：P0（立即响应）、P1（当日处理）、P2（本周处理）、P3（批量处理）。",
      "写一份向 CEO 的周报模板，包含关键进展、风险预警和决策请求。"
    ],
    selfCheck: [
      "你的管理节奏是否覆盖了向上、向下和横向三个方向的沟通？",
      "每个定期会议是否都有明确的目的和预期产出？",
      "你的 1:1 是否在真正建立信任和解决问题，还是沦为状态汇报？",
      "你是否有有效的信息分级机制，避免被低优先级事务打断？",
      "你的向上汇报是否主动、及时、有数据支撑？"
    ],
    extensions: [
      "深入阅读 Andy Grove 的《High Output Management》，理解管理杠杆率的概念。",
      "学习 LeadDev 社区关于技术领导力节奏设计的最佳实践。",
      "探索异步沟通工具和文档化决策的实践（如 RFC、ADR、内部博客）。",
      "研究 Amazon 的六页备忘录文化，思考如何提升决策质量。"
    ],
    sourceUrls: [
      "https://leaddev.com/leadership-skills/leading-through-cadence",
      "https://www.goodreads.com/book/show/324750.High_Output_Management"
    ]
  }
}

export const week1Quizzes: Record<string, QuizQuestion[]> = {
  "cto-w1-1": [
    {
      id: "cto-w1-1-q1",
      question: "早期创业公司 CTO 最优先关注的目标通常是？",
      options: [
        "降低基础设施成本",
        "推行全面微服务化",
        "让产品快速落地并验证市场",
        "完善绩效考核体系"
      ],
      answer: 2,
      rationale: "早期阶段首要任务是快速验证产品与市场匹配（PMF），保证交付速度，其他目标可以在后续阶段逐步完善。"
    },
    {
      id: "cto-w1-1-q2",
      question: "CTO 与工程 VP 最核心的区别是？",
      options: [
        "CTO 写更多代码",
        "工程 VP 级别更高",
        "CTO 需要兼顾技术决策、组织能力与商业影响力",
        "两者没有本质区别"
      ],
      answer: 2,
      rationale: "工程 VP 侧重交付与团队管理，CTO 需要在技术、组织与商业之间架起桥梁，用技术能力放大业务杠杆。"
    },
    {
      id: "cto-w1-1-q3",
      question: "新任 CTO 在前 90 天应优先做的事情是？",
      options: [
        "立即重构核心系统",
        "与 CEO 对齐成功定义并设定可衡量的目标",
        "招聘大量新工程师",
        "引入最新的技术栈"
      ],
      answer: 1,
      rationale: "前 90 天的核心是了解业务、建立关系、与 CEO 对齐目标，而非急于做出重大技术变革。"
    }
  ],
  "cto-w1-2": [
    {
      id: "cto-w1-2-q1",
      question: "Andy Grove 在《High Output Management》中提出的核心观点是？",
      options: [
        "管理者应该写最多的代码",
        "管理者的产出等于团队的产出",
        "会议越多越好",
        "管理者不需要技术背景"
      ],
      answer: 1,
      rationale: "Andy Grove 强调管理者的产出 = 团队产出，管理者应关注杠杆率最高的活动来最大化团队效能。"
    },
    {
      id: "cto-w1-2-q2",
      question: "CTO 的 1:1 会议最重要的目的是？",
      options: [
        "检查任务完成进度",
        "分配新的工作任务",
        "建立信任、发现问题和辅导成长",
        "传达公司通知"
      ],
      answer: 2,
      rationale: "1:1 不只是状态同步，更是建立信任、及早发现问题和辅导团队成员成长的关键时刻。"
    },
    {
      id: "cto-w1-2-q3",
      question: "设计沟通节奏时最常见的陷阱是？",
      options: [
        "会议太少导致信息不通",
        "会议过多但缺乏明确目的和产出",
        "只用邮件沟通",
        "不设置固定会议时间"
      ],
      answer: 1,
      rationale: "会议过载是常见问题，关键是每个会议都要有明确的目的、议程和产出，砍掉低效会议。"
    }
  ]
}
