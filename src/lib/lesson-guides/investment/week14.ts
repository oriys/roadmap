import type { LessonGuide } from "../types"
import type { QuizQuestion } from "@/lib/types"

export const week14Guides: Record<string, LessonGuide> = {
    "inv-w14-1": {
        lessonId: "inv-w14-1",
        background: [
            "【移动平均线定义】移动平均线（MA）是一段时间内收盘价的平均值，随时间移动形成平滑曲线，用于识别趋势方向。",
            "【简单移动平均 SMA】简单移动平均对所有数据点等权重计算。如 20 日 SMA = 过去 20 天收盘价之和 ÷ 20。",
            "【指数移动平均 EMA】指数移动平均给近期数据更高权重，对价格变化反应更灵敏，但也更容易产生假信号。",
            "【常用周期】短期：5/10/20 日；中期：50/60 日；长期：120/200 日。200 日均线是判断长期趋势的重要参考。",
            "【金叉死叉】金叉：短期均线上穿长期均线，看涨信号。死叉：短期均线下穿长期均线，看跌信号。",
        ],
        keyDifficulties: [
            "【滞后性问题】移动平均线是滞后指标，在趋势转折初期会发出滞后信号。周期越长滞后越明显。",
            "【横盘市场失效】在横盘震荡市场中，均线会频繁交叉产生假信号。均线更适合趋势市场。",
            "【参数选择】没有完美的参数，不同市场和周期可能需要不同参数。应避免过度优化历史数据。",
            "【单一指标局限】不应仅依赖移动平均线做决策，需要结合其他指标和价格形态综合判断。",
        ],
        handsOnPath: [
            "在图表工具中添加 20 日和 50 日简单移动平均线",
            "观察价格与均线的关系",
            "识别金叉和死叉信号",
            "对比 SMA 和 EMA 对价格变化的反应速度",
            "添加 200 日均线，判断长期趋势",
            "观察均线在趋势市场和震荡市场的不同表现",
            "记录均线信号的准确率",
        ],
        selfCheck: [
            "SMA 和 EMA 有什么区别？",
            "什么是金叉和死叉？",
            "为什么移动平均线是滞后指标？",
            "200 日均线有什么特殊意义？",
            "均线在什么市场环境下容易失效？",
            "你能解读价格与均线的位置关系吗？",
        ],
        extensions: [
            "学习均线多头排列和空头排列",
            "了解均线带（Moving Average Ribbon）",
            "研究均线系统交易策略",
            "探索其他类型的均线（WMA、VWMA）",
        ],
        sourceUrls: [
            "https://www.investopedia.com/terms/m/movingaverage.asp",
            "https://www.investopedia.com/ask/answers/difference-between-simple-exponential-moving-average/",
            "https://chartschool.stockcharts.com/table-of-contents/technical-indicators-and-overlays/moving-averages",
        ],
    },
    "inv-w14-2": {
        lessonId: "inv-w14-2",
        background: [
            "【RSI 定义】相对强弱指标（RSI）衡量价格变动的速度和幅度，数值在 0-100 之间，用于判断超买超卖状态。",
            "【超买超卖】RSI > 70 通常认为超买（可能回调），RSI < 30 通常认为超卖（可能反弹）。但强势趋势中会持续超买/超卖。",
            "【背离信号】当价格创新高但 RSI 未创新高，为顶背离，可能预示下跌。当价格创新低但 RSI 未创新低，为底背离。",
            "【MACD 定义】MACD = 12 日 EMA - 26 日 EMA，信号线是 MACD 的 9 日 EMA。柱状图显示 MACD 与信号线的差值。",
            "【MACD 信号】MACD 上穿信号线为买入信号，下穿为卖出信号。MACD 零线上方为多头市场，下方为空头市场。",
        ],
        keyDifficulties: [
            "【强势趋势中的超买超卖】在强势上涨中 RSI 可能长期维持在 70 以上，此时超买不代表应该卖出。需结合趋势判断。",
            "【背离的确认】背离是警示信号而非交易信号。背离出现后价格可能继续原方向运动一段时间，需等待确认。",
            "【参数敏感性】RSI 默认 14 周期，MACD 默认 12-26-9。不同参数会影响指标敏感度，需权衡灵敏度和可靠性。",
            "【指标组合使用】单一指标容易产生假信号，应结合多个指标和价格行为综合分析。",
        ],
        handsOnPath: [
            "在图表上添加 RSI 指标（默认 14 周期）",
            "识别 RSI 超买（>70）和超卖（<30）区域",
            "寻找价格与 RSI 的背离",
            "添加 MACD 指标，观察 MACD 线和信号线的交叉",
            "观察 MACD 柱状图的变化",
            "比较 RSI 和 MACD 信号的一致性",
            "记录指标信号与实际价格走势的对应关系",
        ],
        selfCheck: [
            "RSI 的超买超卖水平是多少？",
            "什么是 RSI 背离？",
            "MACD 由哪些组件构成？",
            "MACD 上穿信号线意味着什么？",
            "为什么强势趋势中超买不代表应该卖出？",
            "你能识别价格与指标的背离吗？",
        ],
        extensions: [
            "学习随机指标（Stochastic）的使用",
            "了解 CCI（商品通道指数）",
            "研究多指标综合分析方法",
            "探索动量交易策略",
        ],
        sourceUrls: [
            "https://www.investopedia.com/terms/r/rsi.asp",
            "https://www.investopedia.com/terms/m/macd.asp",
            "https://chartschool.stockcharts.com/table-of-contents/technical-indicators-and-overlays/rsi",
        ],
    },
    "inv-w14-3": {
        lessonId: "inv-w14-3",
        background: [
            "【成交量意义】成交量是价格变动的燃料。健康的价格变动应有成交量配合，没有量的价格变动可能是假突破。",
            "【量价配合】上涨放量、下跌缩量为健康的上升趋势。上涨缩量、下跌放量预示趋势可能反转。",
            "【量价背离】价格创新高但成交量未创新高，称为量价背离，可能预示上涨动能减弱。",
            "【OBV 指标】能量潮（On-Balance Volume）：上涨日成交量加入，下跌日成交量减去。OBV 方向应与价格一致。",
            "【成交量形态】放量突破：有效突破应伴随成交量放大。缩量回调：健康的回调成交量应萎缩。",
        ],
        keyDifficulties: [
            "【量的相对性】成交量大小应与该股票的历史平均水平比较，而非绝对数值。不同股票成交量级别不同。",
            "【成交量与流动性】高成交量通常意味着好的流动性，买卖价差小；低成交量股票可能难以大量买卖。",
            "【成交量滞后】有时成交量变化滞后于价格变化。突破初期成交量可能不明显，后续才放大。",
            "【机构行为】大成交量可能反映机构交易。异常放量值得关注，可能有重要资金进出。",
        ],
        handsOnPath: [
            "观察图表下方的成交量柱状图",
            "比较上涨日和下跌日的成交量差异",
            "识别放量突破和缩量回调",
            "添加 OBV 指标，观察其与价格的关系",
            "寻找量价背离的例子",
            "分析一次突破的成交量是否配合",
            "记录成交量异常变化的时间点",
        ],
        selfCheck: [
            "健康上涨趋势的量价关系是怎样的？",
            "什么是量价背离？",
            "OBV 指标如何计算？",
            "为什么放量突破比缩量突破更可靠？",
            "如何判断成交量是大还是小？",
            "你能通过成交量判断突破的真假吗？",
        ],
        extensions: [
            "学习成交量加权平均价（VWAP）",
            "了解资金流向指标（Money Flow Index）",
            "研究成交量价差分析（VSA）",
            "探索量化成交量分析方法",
        ],
        sourceUrls: [
            "https://www.investopedia.com/terms/v/volume.asp",
            "https://www.investopedia.com/terms/o/onbalancevolume.asp",
            "https://chartschool.stockcharts.com/table-of-contents/technical-indicators-and-overlays/on-balance-volume-obv",
        ],
    },
}

export const week14Quizzes: Record<string, QuizQuestion[]> = {
    "inv-w14-1": [
        {
            id: "inv-w14-1-q1",
            question: "简单移动平均线（SMA）如何计算？",
            options: [
                "给近期数据更高权重",
                "对所有数据点等权重平均",
                "取最高价和最低价的平均",
                "用成交量加权",
            ],
            answer: 1,
            rationale: "SMA 对所有数据点等权重计算平均值。如 20 日 SMA = 过去 20 天收盘价之和 ÷ 20。",
        },
        {
            id: "inv-w14-1-q2",
            question: "EMA 相比 SMA 有什么特点？",
            options: [
                "反应更慢更稳定",
                "给近期数据更高权重，反应更灵敏",
                "只使用最高价计算",
                "与 SMA 完全相同",
            ],
            answer: 1,
            rationale: "EMA 给近期数据更高权重，对价格变化反应更快更灵敏，但也更容易产生假信号。",
        },
        {
            id: "inv-w14-1-q3",
            question: "什么是「金叉」？",
            options: [
                "短期均线下穿长期均线",
                "短期均线上穿长期均线",
                "价格跌破均线",
                "两条均线平行",
            ],
            answer: 1,
            rationale: "金叉是短期均线上穿长期均线，通常被视为看涨信号。",
        },
        {
            id: "inv-w14-1-q4",
            question: "200 日均线有什么特殊意义？",
            options: [
                "只是随意选择的数字",
                "判断长期趋势的重要参考",
                "最敏感的均线",
                "只用于日内交易",
            ],
            answer: 1,
            rationale: "200 日均线是判断长期趋势的重要参考。价格在 200 日均线上方通常被视为长期牛市。",
        },
        {
            id: "inv-w14-1-q5",
            question: "移动平均线的主要缺点是什么？",
            options: [
                "计算太复杂",
                "滞后性，在趋势转折初期信号滞后",
                "不能显示在图表上",
                "只适用于加密货币",
            ],
            answer: 1,
            rationale: "移动平均线是滞后指标，使用历史数据计算，在趋势转折初期会发出滞后信号。",
        },
        {
            id: "inv-w14-1-q6",
            question: "在什么市场环境下均线容易产生假信号？",
            options: [
                "强势上涨趋势",
                "横盘震荡市场",
                "强势下跌趋势",
                "成交量放大时",
            ],
            answer: 1,
            rationale: "在横盘震荡市场中，价格反复穿越均线，会产生频繁的假信号。均线更适合趋势市场。",
        },
        {
            id: "inv-w14-1-q7",
            question: "什么是「死叉」？",
            options: [
                "短期均线上穿长期均线",
                "短期均线下穿长期均线",
                "价格突破均线",
                "均线走平",
            ],
            answer: 1,
            rationale: "死叉是短期均线下穿长期均线，通常被视为看跌信号。",
        },
        {
            id: "inv-w14-1-q8",
            question: "均线周期越长意味着什么？",
            options: [
                "反应越快",
                "反应越慢，信号越可靠但越滞后",
                "与周期长短无关",
                "假信号越多",
            ],
            answer: 1,
            rationale: "周期越长的均线越平滑，反应越慢，信号越可靠但滞后也越明显。短期均线更敏感但噪音更多。",
        },
        {
            id: "inv-w14-1-q9",
            question: "常用的短期、中期、长期均线周期分别是？",
            options: [
                "5/20/100",
                "20/50/200",
                "1/2/3",
                "100/200/300",
            ],
            answer: 1,
            rationale: "常用周期：短期 5/10/20 日，中期 50/60 日，长期 120/200 日。20/50/200 是最常用的组合。",
        },
        {
            id: "inv-w14-1-q10",
            question: "价格持续在均线上方运行意味着什么？",
            options: [
                "应该立即卖出",
                "均线提供支撑，趋势偏多",
                "均线失效",
                "应该做空",
            ],
            answer: 1,
            rationale: "在上升趋势中，均线会成为动态支撑，价格回调到均线附近可能反弹。",
        },
        {
            id: "inv-w14-1-q11",
            question: "均线多头排列是什么？",
            options: [
                "均线全部走平",
                "短期均线在上，长期均线在下，均线向上发散",
                "所有均线交叉",
                "只有一条均线",
            ],
            answer: 1,
            rationale: "多头排列：短期均线在上，中期在中，长期在下，均线向上发散，是强势上涨的标志。",
        },
        {
            id: "inv-w14-1-q12",
            question: "为什么不应该过度优化均线参数？",
            options: [
                "优化不会改变结果",
                "过度优化历史数据可能导致未来表现不佳",
                "参数无关紧要",
                "所有参数效果相同",
            ],
            answer: 1,
            rationale: "过度优化会导致「曲线拟合」历史数据，在未来可能表现不佳。应选择经过验证的通用参数。",
        },
    ],
    "inv-w14-2": [
        {
            id: "inv-w14-2-q1",
            question: "RSI 的超买水平通常是多少？",
            options: [
                "30",
                "50",
                "70",
                "100",
            ],
            answer: 2,
            rationale: "RSI > 70 通常被认为是超买区域，价格可能过高，有回调风险。",
        },
        {
            id: "inv-w14-2-q2",
            question: "RSI 的超卖水平通常是多少？",
            options: [
                "0",
                "30",
                "50",
                "70",
            ],
            answer: 1,
            rationale: "RSI < 30 通常被认为是超卖区域，价格可能过低，有反弹机会。",
        },
        {
            id: "inv-w14-2-q3",
            question: "什么是 RSI 顶背离？",
            options: [
                "价格和 RSI 同时创新高",
                "价格创新高但 RSI 未创新高",
                "RSI 创新高但价格未创新高",
                "价格和 RSI 同时下跌",
            ],
            answer: 1,
            rationale: "顶背离是价格创新高但 RSI 未创新高，显示上涨动能减弱，可能预示下跌。",
        },
        {
            id: "inv-w14-2-q4",
            question: "MACD 由哪些组成部分？",
            options: [
                "只有一条线",
                "MACD 线、信号线、柱状图",
                "上下两条线",
                "三条移动平均线",
            ],
            answer: 1,
            rationale: "MACD 由三部分组成：MACD 线（快线）、信号线（慢线）、柱状图（两线差值）。",
        },
        {
            id: "inv-w14-2-q5",
            question: "MACD 上穿信号线通常意味着什么？",
            options: [
                "卖出信号",
                "买入信号",
                "继续持有",
                "没有意义",
            ],
            answer: 1,
            rationale: "MACD 上穿信号线被视为买入信号，表示短期动能转强。",
        },
        {
            id: "inv-w14-2-q6",
            question: "在强势上涨趋势中 RSI 超买后应该怎么操作？",
            options: [
                "立即卖出",
                "超买不代表立即卖出，需结合趋势判断",
                "立即做空",
                "忽略 RSI",
            ],
            answer: 1,
            rationale: "强势上涨中 RSI 可能长期维持超买状态。超买是警示而非卖出信号，需结合趋势和其他因素判断。",
        },
        {
            id: "inv-w14-2-q7",
            question: "RSI 默认周期是多少？",
            options: [
                "7",
                "9",
                "14",
                "20",
            ],
            answer: 2,
            rationale: "RSI 的默认周期是 14，这是发明者 Wilder 建议的设置。",
        },
        {
            id: "inv-w14-2-q8",
            question: "MACD 零线的意义是什么？",
            options: [
                "没有特殊意义",
                "零线上方为多头市场，下方为空头市场",
                "是超买超卖线",
                "是止损线",
            ],
            answer: 1,
            rationale: "MACD 在零线上方表示短期均线高于长期均线，通常被视为多头市场；下方为空头市场。",
        },
        {
            id: "inv-w14-2-q9",
            question: "背离信号出现后应该怎么操作？",
            options: [
                "立即反向交易",
                "背离是警示信号，需等待确认",
                "忽略背离",
                "加大仓位",
            ],
            answer: 1,
            rationale: "背离是警示信号而非交易信号。背离后价格可能继续原方向运动，需要其他确认才能行动。",
        },
        {
            id: "inv-w14-2-q10",
            question: "MACD 柱状图由正变负意味着什么？",
            options: [
                "没有意义",
                "MACD 线下穿信号线，动能转弱",
                "应该买入",
                "趋势加强",
            ],
            answer: 1,
            rationale: "柱状图是 MACD 线与信号线的差值。由正变负表示 MACD 下穿信号线，短期动能减弱。",
        },
        {
            id: "inv-w14-2-q11",
            question: "什么是 RSI 底背离？",
            options: [
                "价格创新低且 RSI 创新低",
                "价格创新低但 RSI 未创新低",
                "RSI 在超买区",
                "RSI 等于 50",
            ],
            answer: 1,
            rationale: "底背离是价格创新低但 RSI 未创新低，显示下跌动能减弱，可能预示反弹。",
        },
        {
            id: "inv-w14-2-q12",
            question: "为什么建议结合多个指标使用？",
            options: [
                "一个指标就够了",
                "单一指标容易产生假信号，多指标综合提高准确性",
                "指标越多越混乱",
                "只需要看价格",
            ],
            answer: 1,
            rationale: "单一指标会产生假信号。结合多个指标（如 RSI + MACD）可以相互验证，提高判断准确性。",
        },
    ],
    "inv-w14-3": [
        {
            id: "inv-w14-3-q1",
            question: "健康的上升趋势中量价关系应该是怎样的？",
            options: [
                "上涨缩量，下跌放量",
                "上涨放量，下跌缩量",
                "量价没有关系",
                "成交量保持不变",
            ],
            answer: 1,
            rationale: "健康上升趋势：上涨时成交量放大（买入意愿强），回调时成交量萎缩（卖出意愿弱）。",
        },
        {
            id: "inv-w14-3-q2",
            question: "什么是量价背离？",
            options: [
                "价格和成交量同步变化",
                "价格创新高但成交量未创新高",
                "成交量很大",
                "成交量为零",
            ],
            answer: 1,
            rationale: "量价背离是价格创新高但成交量未配合创新高，说明上涨动能减弱，可能预示反转。",
        },
        {
            id: "inv-w14-3-q3",
            question: "OBV（能量潮）指标如何计算？",
            options: [
                "所有成交量相加",
                "上涨日成交量累加，下跌日成交量累减",
                "成交量除以价格",
                "取成交量的移动平均",
            ],
            answer: 1,
            rationale: "OBV：如果当日收盘价高于昨日，将当日成交量加入累计值；如果低于昨日，则减去当日成交量。",
        },
        {
            id: "inv-w14-3-q4",
            question: "放量突破和缩量突破哪个更可靠？",
            options: [
                "缩量突破更可靠",
                "放量突破更可靠",
                "两者一样",
                "成交量不重要",
            ],
            answer: 1,
            rationale: "放量突破意味着有大量资金参与，突破更有效。缩量突破可能是假突破，缺乏跟进动能。",
        },
        {
            id: "inv-w14-3-q5",
            question: "如何判断某天成交量是「大」还是「小」？",
            options: [
                "看绝对数值",
                "与该股票的历史平均水平比较",
                "与其他股票比较",
                "看价格高低",
            ],
            answer: 1,
            rationale: "成交量大小应与该股票自身的历史平均水平比较。不同股票的成交量级别差异很大。",
        },
        {
            id: "inv-w14-3-q6",
            question: "缩量回调在上升趋势中意味着什么？",
            options: [
                "趋势将反转",
                "回调健康，卖压不大",
                "应该立即卖出",
                "成交量失效",
            ],
            answer: 1,
            rationale: "上升趋势中缩量回调表示卖出意愿不强，回调是健康的获利了结而非趋势反转。",
        },
        {
            id: "inv-w14-3-q7",
            question: "成交量是什么的「燃料」？",
            options: [
                "公司业绩",
                "价格变动",
                "股息分红",
                "公司增长",
            ],
            answer: 1,
            rationale: "成交量被称为价格变动的燃料。没有成交量配合的价格变动可能不持久。",
        },
        {
            id: "inv-w14-3-q8",
            question: "OBV 方向应该与什么一致？",
            options: [
                "RSI 方向",
                "价格方向",
                "MACD 方向",
                "均线方向",
            ],
            answer: 1,
            rationale: "OBV 方向应与价格方向一致。如果价格上涨但 OBV 下降，可能是看跌背离。",
        },
        {
            id: "inv-w14-3-q9",
            question: "异常放量可能意味着什么？",
            options: [
                "没有特殊意义",
                "可能有重要资金进出或重大事件",
                "应该立即买入",
                "股票即将退市",
            ],
            answer: 1,
            rationale: "异常放量值得关注，可能反映机构大额交易或重大事件（如并购、业绩公告）。",
        },
        {
            id: "inv-w14-3-q10",
            question: "下跌放量通常意味着什么？",
            options: [
                "看涨信号",
                "卖压较大，可能继续下跌",
                "应该买入",
                "成交量正常",
            ],
            answer: 1,
            rationale: "下跌放量表示有大量卖出行为，卖压较大，下跌可能继续。是较为负面的信号。",
        },
        {
            id: "inv-w14-3-q11",
            question: "成交量与流动性有什么关系？",
            options: [
                "没有关系",
                "高成交量通常意味着好的流动性",
                "成交量越小流动性越好",
                "流动性只与价格有关",
            ],
            answer: 1,
            rationale: "高成交量通常意味着买卖活跃，流动性好，买卖价差小。低成交量股票可能难以大量交易。",
        },
        {
            id: "inv-w14-3-q12",
            question: "VWAP 是什么？",
            options: [
                "一种 K 线形态",
                "成交量加权平均价格",
                "一种趋势线",
                "超买超卖指标",
            ],
            answer: 1,
            rationale: "VWAP = Volume Weighted Average Price，成交量加权平均价格，是机构常用的交易基准。",
        },
    ],
}
